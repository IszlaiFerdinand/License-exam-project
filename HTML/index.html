<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Completare formulare auto</title>
    <link rel="shortcut icon" type="image/ico" href="../PICTURES/drpcivlogo.png" />
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm"
        crossorigin="anonymous">
    <link rel="stylesheet" href="../CSS/style.css">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/flag-icon-css/3.5.0/css/flag-icon.min.css" rel="stylesheet" type="text/css">
</head>

<body>
    <nav class="navbar navbar-expand-sm navbar-dark bg-dark">
        <a href="#" class="navbar-brand">Completare acte auto</a>
        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarToggler77" aria-controls="" aria-expanded="false" aria-label="Toggle navigation"> 
            <div class="dropdown" style="display: inline-block;">
                <a class="nav-link dropdown-toggle" href="#" id="navbarDropdownMenuLink78" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">Selectare limbă</a>
                <div class="dropdown-menu" aria-labelledby="navbarDropdownMenuLink78"> 
                    <a class="dropdown-item" href="#"><span class="flag-icon flag-icon-ro"></span> Română</a> 
                    <a class="dropdown-item" href="#"><span class="flag-icon flag-icon-hu"></span> Magyar</a> 
                    <a class="dropdown-item" href="#"><span class="flag-icon flag-icon-us"></span> English</a>
                </div>
            </div>
        </button>
        
            <a class="navbar-brand order-md-last mx-auto" href="https://www.drpciv.ro/" target="_blank">
                <img src="../PICTURES/drpcivlogo.png" width="40" height="40" class="d-inline-block align-top" alt="">
                Siteul oficial DRPCIV
            </a>

            <div class="collapse navbar-collapse " id="navbarToggler77">
                    <div class="d-lg-block d-none dropdown">
                    <a class="nav-link dropdown-toggle " href="#" id="navbarDropdownMenuLink78" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">Selectare limbă</a>
                    <div class="dropdown-menu" aria-labelledby="navbarDropdownMenuLink78"> 
                        <a class="dropdown-item" href="#"><span class="flag-icon flag-icon-ro"></span> Română</a> 
                        <a class="dropdown-item" href="#"><span class="flag-icon flag-icon-hu"></span> Magyar</a> 
                        <a class="dropdown-item" href="#"><span class="flag-icon flag-icon-us"></span> English</a> 
                    </div>
                </div> 
            </div>
    </nav>

    <form action="./generate.php" method="POST" class="main-form needs-validation" novalidate>
        <div class="text-center">
            <h3>Tipul solicitării</h3>
        </div>
        <div class="form-group">
            <select name="tip" id="tip" class="form-control" required>
                <option value="" disabled selected>Selectează tipul solicitării</option>
                <option value="inmatriculare"> Înmatriculare</option>
                <option value="inmatriculare temporara"> Înmatriculare temporară</option>
                <option value="transcriere"> Transcriera transmiterii dreptului de proprietate </option>
                <option value="eliberare certificat"> Eliberarea unui duplicat al certificatului de înmatriculare</option>
                <option value="eliberare certificat 1"> Eliberarea unui nou certificat ca urmare a modificării datelor înscrise </option>
                <option value="radiere"> Radiere</option>
                <option value="autorizare"> Autorizarea provizorie</option>
                <option value="duplicat"> Duplicat placă număr înmatriculare</option>
                <option value="pastrare"> Păstrarea combinației numărului de înmatriculare</option>
            </select>
        </div>

        <div id="buyer">
            <div class="text-center">
                <h3 id="me">Datele cumpărătorului</h3>
            </div>

            <div class="row">
                <div class="col">
                        <label for="firstname">Nume</label>
                        <input type="text" name="firstname" id="firstname" class="form-control" placeholder="Pop" required>
                        <div class="invalid-feedback">Completează câmpul</div>
                </div>
                <div class="col">
                        <label for="lastname">Prenume</label>
                        <input type="text" name="lastname" id="lastname" class="form-control" placeholder="Raul-Alin" required>
                        <div class="invalid-feedback">Completează câmpul</div>
                </div>
            </div>
            
            <div class="row">
                <div class="col">
                        <label for="country">Județ</label>
                        <input type="text" name="country" id="country" class="form-control" placeholder="Mureș" required>
                        <div class="invalid-feedback">Completează câmpul</div>
                </div>

                <div class="col">
                        <label for="loc">Localitate</label>
                        <input type="text" name="loc" id="loc" class="form-control" placeholder="Târgu Mureș" required>
                        <div class="invalid-feedback">Completează câmpul</div>
                </div>
            </div>

            <div class="row">
                <div class="col">
                    <label for="str">Stradă</label>
                    <input type="text" name="str" id="str" class="form-control" placeholder="Libertății" required>
                    <div class="invalid-feedback">Completează câmpul</div>
                </div>

                <div class="col">
                        <label for="nr">Număr</label>
                        <input type="text" name="nr" id="nr" class="form-control" placeholder="10" pattern="^\d+[a-zA-Z]?$" required>
                        <div class="invalid-feedback">Completează câmpul cu număr</div>
                </div>

                <div class="col">
                        <label for="bl">Bloc</label>
                        <input type="text" name="bl" id="bl" class="form-control" placeholder="2" pattern="^\d+[a-zA-Z]?$">
                        <div class="invalid-feedback">Completează câmpul</div>
                </div>

                <div class="col">
                        <label for="sc">Scară</label>
                        <input type="text" name="sc" id="sc" class="form-control" placeholder="B" pattern="^[A-Z]$" >
                        <div class="invalid-feedback">Completează câmpul corect</div>
                </div>

                <div class="col">
                        <label for="et">Etaj</label>
                        <input type="text" name="et" id="et" class="form-control" placeholder="1" pattern="^\d+$">
                        <div class="invalid-feedback">Completează câmpul corect</div>
                </div>

                <div class="col">
                        <label for="ap">Apartament</label>
                        <input type="text" name="ap" id="ap" class="form-control" placeholder="2" pattern="^\d+$">
                        <div class="invalid-feedback">Completează câmpul corect</div>
                </div>

            </div>

                <label for="CNP1">CNP Cumpărător</label>
                <input type="text" name="CNP1" id="CNP1" class="form-control" placeholder="1801205245546" pattern="^[1256]+([0-9]){12}$" required>
                <div class="invalid-feedback">Completează câmpul cu CNP valid</div>
        
            <div class="row">
                <div class="col">
                    <div class="form-group">
                        <label for="tel">Număr de telefon</label>
                        <input type="text" name="tel" id="tel" class="form-control" placeholder="0745685235" pattern="^[0]+[237]+([0-9]){8}">
                        <div class="invalid-feedback">Completează câmpul cu număr de telefon valid</div>
                    </div>
                </div>

                <div class="col">
                    <div class="form-group">
                        <label for="e-mail">Adresa de e-mail</label>
                        <input type="text" name="e-mail" id="e-mail" class="form-control" placeholder="pop_raul@gmail.com" pattern="^[a-z0-9._%+-]+@[a-z0-9.-]+\.[a-z]{2,4}$">
                        <div class="invalid-feedback">Completează câmpul cu adresă de e-mail validă</div>
                        <small class="form-text text-muted">Completează daca vrei sa primesti documentele prin e-mail!</small>
                    </div>
                </div>
            </div>
        </div>    
       
      

        <div id="car">  
            <div class="text-center">
                <h3>Datele autovehiculului</h3>
            </div>

            <div class="row">
                <div class="col">
                        <label for="brand">Marcă</label>
                        <input type="text" name="brand" id="brand" class="form-control" placeholder="BMW" required>
                        <div class="invalid-feedback">Completează câmpul</div>
                </div>
                <div class="col">
                        <label for="type">Tip</label>
                        <input type="text" name="type" id="type" class="form-control" placeholder="X6" required>
                        <div class="invalid-feedback">Completează câmpul</div>
                </div>
                <div class="col">
                    <label for="year">An de fabricație</label>
                    <input type="text" name="year" id="year" class="form-control" placeholder="2013" pattern="^(19|20)\d{2}$" required>
                    <div class="invalid-feedback">Completează câmpul corect</div>
                </div>
            </div>

            <div class="row">
                <div class="col">
                        <label for="idnum">Număr de identificare</label>
                        <input type="text" name="idnum" id="idnum" class="form-control" placeholder="WBAWZ510700L22028" pattern="[A-Z0-9]{17}" required>
                        <small class="form-text text-muted">Completează numai cu litere mari!</small>
                        <div class="invalid-feedback">Completează câmpul cu numar de itentificare validă</div>
                </div>
                <div class="col">
                        <label for="idnum1">Număr de înmatriculare</label>
                        <input type="text" name="idnum1" id="idnum1" class="form-control" placeholder="MS-12-ABC" pattern="[A-Z]{2}-[0-9]{2}-[A-Z]{3}" required>
                        <div class="invalid-feedback">Completează câmpul cu număr de înmatriculare corectă</div>
                </div>
            </div>
        </div>

        <div id="seller">
            <div class="text-center mt-2">
                <h3>Datele vânzătorului</h3>
            </div>
            
            <div class="row">
                <div class="col">
                        <label for="firstname2">Nume</label>
                        <input type="text" name="firstname2" id="firstname2" class="form-control" placeholder="Moldovan" required>
                        <div class="invalid-feedback">Completează câmpul</div>
                </div>
                <div class="col">
                        <label for="lastname2">Prenume</label>
                        <input type="text" name="lastname2" id="lastname2" class="form-control" placeholder="Ioan" required>
                        <div class="invalid-feedback">Completează câmpul</div>
                </div>
            </div>
            
            <label for="CNP2">CNP Vânzător</label>
            <input type="text" name="CNP2" id="CNP2" class="form-control" placeholder="1750526269852" pattern="^[1256]+([0-9]){12}" required>
            <div class="invalid-feedback">Completează câmpul cu CNP valid</div>
        </div>  

        <div id="spec1">
            <div class="text-center mt-2">
                <h3>Specificatii</h3>
            </div>
            
            <label for="days">Număr zile</label>
            <input type="number" name="days" id="days" min="30" max="90" class="form-control" placeholder="30-60-90" required>
            <div class="invalid-feedback">Completează câmpul</div>

        </div>

        <div id="spec2">
            <div class="text-center mt-2">
                <h3>Specificatii</h3>
            </div>
                 
            <label for="pcs">Bucați solicitate</label>
            <input type="number" name="pcs" id="pcs" max="2" min="1" class="form-control" placeholder="1-2" required>
            <div class="invalid-feedback">Completează câmpul</div>

        </div>

        <div class="text-center">
            
            <div class="g-recaptcha" data-sitekey="6LeIxAcTAAAAAJcZVRqyHh71UMIEGNQ_MXjiZKhI"></div>


                <div class="form-check">
                    <input type="checkbox" id="accept-terms" class="form-check-input" required>
                    <label for="accept-terms" class="form-check-label">Am luat cunoștință că adresa e-mail și numărul de telefon sunt opționale, iar în măsura
                        în care sunt furnizate, sunt de acord cu prelucrarea acestora în vederea comunicării
                        oricăror informații de interes cu privire la operațiunea solicitată sau vehiculul care face
                        obiectul acesteia.
                        </label>
                </div> 
                
                
        </div>

        <div class="text-center">
             <button type="submit" class="btn btn-success my-3 btn-block">Generare cerere</button>
        </div>  

    </form>
    
    <script src="https://www.google.com/recaptcha/api.js"></script>
    <script src="https://code.jquery.com/jquery-3.2.1.slim.min.js" integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN"
        crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js" integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q"
        crossorigin="anonymous"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js" integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl"
        crossorigin="anonymous"></script>
    <script>
        window.onload = function() {
            var $recaptcha = document.querySelector('#g-recaptcha-response');

            if($recaptcha) {
                $recaptcha.setAttribute("required", "required");
            }
        };
    </script>
    <script>
         $('select[name=tip]').change(function(e){
            if($('select[name=tip]').val() != ""){
                $('#buyer').show();
            } 
        });

        $('select[name=tip]').change(function(e){
            if($('select[name=tip]').val() != ""){
                $('#car').show();
            }
        });


        $('select[name=tip]').change(function(e){
            if($('select[name=tip]').val() != "eliberare certificat" && $('select[name=tip]').val() != "eliberare certificat 1" && $('select[name=tip]').val() != "radiere" && $('select[name=tip]').val() != "pastrare" && $('select[name=tip]').val() != "duplicat"){
                $('#seller').show();
                $("#firstname2").attr("required", "");
                $("#lastname2").attr("required", "");
                $("#CNP2").attr("required", "");
            }
            else{
                $('#seller').hide();
                $("#firstname2").removeAttr("required");
                $("#lastname2").removeAttr("required");
                $("#CNP2").removeAttr("required");
            }    
        });

        $('select[name=tip]').change(function(e){
            if($('select[name=tip]').val() == "autorizare"){
                $('#spec1').show();
                $("#days").attr("required", "");
            }
            else{
                $('#spec1').hide();
                $("#days").removeAttr("required");
            }
        });

        $('select[name=tip]').change(function(e){
            if($('select[name=tip]').val() == "duplicat"){
                $('#spec2').show();
                $("#pcs").attr("required", "");
            }
            else{
                $('#spec2').hide();
                $("#pcs").removeAttr("required");
            }
        });

        $('select[name=tip]').change(function(e){
            if($('select[name=tip]').val() == "eliberare certificat" || $('select[name=tip]').val() == "eliberare certificat 1" || $('select[name=tip]').val() == "radiere" || $('select[name=tip]').val() == "pastrare" || $('select[name=tip]').val() == "duplicat"){
                $('#me').text("Datele proprietarului");
            }
            else{
                $('#me').text("Datele cumpărătorului"); 
            } 
        });
    </script>

    <script>
        var form = document.querySelector('.needs-validation');

        form.addEventListener('submit', function(event) {
            if (form.checkValidity({ignore:":not(:visible)"}) === false) {
                event.preventDefault();
                event.stopPropagation();
                console.log("NOT VALID")
            }
            form.classList.add('was-validated');
        })
    </script>

</body>

</html>